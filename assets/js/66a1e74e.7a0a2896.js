(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{111:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return m}));var r=t(0),o=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var p=o.a.createContext({}),u=function(e){var n=o.a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},s=function(e){var n=u(e.components);return o.a.createElement(p.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},d=o.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),s=u(t),d=r,m=s["".concat(i,".").concat(d)]||s[d]||b[d]||a;return t?o.a.createElement(m,l(l({ref:n},p),{},{components:t})):o.a.createElement(m,l({ref:n},p))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,i=new Array(a);i[0]=d;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<a;p++)i[p]=t[p];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},159:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/hmr-preview-cdce2bdfc292933f7c15696bff07cf89.gif"},87:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return l})),t.d(n,"toc",(function(){return c})),t.d(n,"default",(function(){return u}));var r=t(3),o=t(8),a=(t(0),t(111)),i={title:"Using Frontend Libraries"},l={unversionedId:"how-to/use-a-frontend-library",id:"how-to/use-a-frontend-library",isDocsHomePage:!1,title:"Using Frontend Libraries",description:"You can build Neutralinojs apps with vanilla JavaScript or using any frontend library. This tutorial guides you",source:"@site/docs/how-to/use-a-frontend-library.md",slug:"/how-to/use-a-frontend-library",permalink:"/docs/how-to/use-a-frontend-library",editUrl:"https://github.com/neutralinojs/neutralinojs.github.io/edit/main/docs/how-to/use-a-frontend-library.md",version:"current",sidebar:"docs",previous:{title:"Auto Updater",permalink:"/docs/how-to/auto-updater"},next:{title:"Distribution Overview",permalink:"/docs/distribution/overview"}},c=[{value:"Initializing projects",id:"initializing-projects",children:[]},{value:"Configuring Neutralinojs project",id:"configuring-neutralinojs-project",children:[]},{value:"Configuring neu CLI",id:"configuring-neu-cli",children:[]},{value:"Configuring the frontend app",id:"configuring-the-frontend-app",children:[]},{value:"Enabling hot-reload",id:"enabling-hot-reload",children:[]}],p={toc:c};function u(e){var n=e.components,i=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},p,i,{components:n,mdxType:"MDXLayout"}),Object(a.b)("p",null,"You can build Neutralinojs apps with vanilla JavaScript or using any frontend library. This tutorial guides you\nto set up your favorite frontend library for Neutralinojs application development."),Object(a.b)("h2",{id:"initializing-projects"},"Initializing projects"),Object(a.b)("p",null,"First, you need to create a new empty Neutralinojs project. Use the\n",Object(a.b)("a",{parentName:"p",href:"https://github.com/neutralinojs/neutralinojs-zero"},Object(a.b)("inlineCode",{parentName:"a"},"neutralinojs/neutralinojs-zero"))," template to create an\nempty project, as shown below."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-bash"},"neu create myapp --template neutralinojs/neutralinojs-zero\n")),Object(a.b)("p",null,"Now, create a new project with your favorite frontend framework's command-line tools. In this tutorial,\nwe are going to use React, but you can use any frontend library as you wish.\nYou need to create this project inside the ",Object(a.b)("inlineCode",{parentName:"p"},"myapp")," directory."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-bash"},"cd myapp\nnpx create-react-app myapp-react\n")),Object(a.b)("h2",{id:"configuring-neutralinojs-project"},"Configuring Neutralinojs project"),Object(a.b)("p",null,"The ",Object(a.b)("inlineCode",{parentName:"p"},"neutralinojs-zero")," template has a pre-included HTML file and icon, so delete the ",Object(a.b)("inlineCode",{parentName:"p"},"www")," directory since we\ndon't need those files now."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-bash"},"rm -rf www\n")),Object(a.b)("p",null,"You need to configure the Neutralinojs project to support the frontend framework. First, you can set the\ndocument root with your frontend framework's build directory. React typically generates build outputs to\n",Object(a.b)("inlineCode",{parentName:"p"},"build")," directory, so we can update ",Object(a.b)("inlineCode",{parentName:"p"},"documentRoot")," as follows."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-json"},'"documentRoot": "/myapp-react/build/"\n')),Object(a.b)("p",null,"Now, our Neutralinojs app knows the application resource location, but it's missing an icon, so set an\nicon for the app. You can load an icon from your frontend framework's default resources directory. For\ndemonstration purposes, let's use the React icon from the ",Object(a.b)("inlineCode",{parentName:"p"},"public")," directory."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-json"},'  "modes": {\n    "window": {\n      // --- other options\n      "icon": "/myapp-react/public/logo192.png"\n    }\n  }\n')),Object(a.b)("h2",{id:"configuring-neu-cli"},"Configuring neu CLI"),Object(a.b)("p",null,"neu CLI wants to know about the client library location and resources directory to run\n",Object(a.b)("inlineCode",{parentName:"p"},"neu run")," and ",Object(a.b)("inlineCode",{parentName:"p"},"neu update")," commands properly. Store client library into your frontend framework's static\nresources directory and set application resources path with the same value you've used for ",Object(a.b)("inlineCode",{parentName:"p"},"documentRoot"),"."),Object(a.b)("p",null,"We can configure CLI for React by using the following options."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-json"},'  "cli": {\n    // --- other options\n    "resourcesPath": "/myapp-react/build/",\n    "clientLibrary": "/myapp-react/public/neutralino.js",\n  }\n')),Object(a.b)("p",null,"When we modify ",Object(a.b)("inlineCode",{parentName:"p"},"cli.clientLibrary")," property, we need to enter ",Object(a.b)("inlineCode",{parentName:"p"},"neu update")," to get the client library to\nthe new location. Go to ",Object(a.b)("inlineCode",{parentName:"p"},"myapp")," and update the client library."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-bash"},"neu update\n")),Object(a.b)("p",null,"Now, you can build and run the React application as a Neutralinojs application ","\u2014"," it's possible with the\nfollowing steps."),Object(a.b)("p",null,"First, build the React application with the following command."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-bash"},"cd myapp-react\nnpm run build\n")),Object(a.b)("p",null,"Finally, run the Neutralinojs application."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-bash"},"cd ..\nneu run\n")),Object(a.b)("h2",{id:"configuring-the-frontend-app"},"Configuring the frontend app"),Object(a.b)("p",null,"You could run the application with the ",Object(a.b)("inlineCode",{parentName:"p"},"neu run")," command, but you can't use the native API yet since the\nReact application doesn't load the client library. Add a ",Object(a.b)("inlineCode",{parentName:"p"},"<script>")," tag and load the client library from\nyour frontend library's main HTML file."),Object(a.b)("p",null,"React typically holds the main HTML file content in the ",Object(a.b)("inlineCode",{parentName:"p"},"./public/index.html")," file, so we can put the following\nHTML snippet there to load the client library."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-html"},'<script src="%PUBLIC_URL%/neutralino.js"><\/script>\n')),Object(a.b)("p",null,"Also, make sure to initialize the client library from your frontend application's entry point. React's\napplication entry-point is typically ",Object(a.b)("inlineCode",{parentName:"p"},"./src/index.js"),". Therefore, we can do the initialization process\nfrom there."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nwindow.Neutralino.init(); // Add this function call\n")),Object(a.b)("p",null,"Now, build and run your application again with the inspector window."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-bash"},"neu run -- --window-enable-inspector\n")),Object(a.b)("p",null,"Try entering some native API calls from the browser console."),Object(a.b)("h2",{id:"enabling-hot-reload"},"Enabling hot-reload"),Object(a.b)("p",null,"Building every code change and testing your application is undoubtedly time-consuming. Therefore, you can use\nyour frontend framework's HMR (Hot Module Replacement) features to speed up your development activities.\nBut, we have a small issue here. There are now two HTTP servers: the Neutralinojs resource server and the\nfrontend framework's development server. How can we load the Neutralinojs client library from the frontend\nframework's development server?"),Object(a.b)("p",null,"Don't worry ","\u2014"," neu CLI provides a built-in feature to enable HMR by patching the main HTML file.\nYou can add the following section to your configuration file for activating hot-reloading."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-json"},'  "cli": {\n    // --- other options\n    "frontendLibrary": {\n        "patchFile": "/litepy-react/public/index.html",\n        "devUrl": "http://localhost:3000"\n    }\n  }\n}\n')),Object(a.b)("p",null,"The above options tell neu CLI about the main HTML file and development server URL."),Object(a.b)("p",null,"Now, start your frontend development server. In React, we can do it with the following command."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-bash"},"npm start\n")),Object(a.b)("p",null,"Finally, run the Neutralinojs application with the following command."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre"},"neu run --frontend-lib-dev\n")),Object(a.b)("p",null,Object(a.b)("img",{src:t(159).default})),Object(a.b)("p",null,"Make sure to build your frontend app once before entering the above command since it loads the client\nlibrary from the Neutralinojs application resources directory (not from your frontend framework's directory)."),Object(a.b)("p",null,"See the full source code of this tutorial ",Object(a.b)("a",{parentName:"p",href:"https://github.com/codezri/neutralinojs-react"},"here"),"."))}u.isMDXComponent=!0}}]);